<div class="modal-overlay" *ngIf="isOpen" (mousedown)="onOverlayMouseDown($event)" (mouseup)="onOverlayMouseUp($event)">
  <div class="modal-content rename-modal-content">
    <div class="modal-header">
      <h2>Rename</h2>
      <button class="close-btn" (click)="onClose()">&times;</button>
    </div>
    <div class="modal-body">
      <p class="rename-current-name">Current title: <strong>{{ sound?.title }}</strong></p>
      <div class="rename-input-group">
        <input
          #renameInput
          type="text"
          class="rename-input"
          [(ngModel)]="renameValue"
          placeholder="Enter new title"
          (keydown.enter)="confirm()"
          (keydown.escape)="onClose()"
        />
      </div>
      <div class="rename-actions">
        <button class="rename-cancel-btn" (click)="onClose()">Cancel</button>
        <button
          class="rename-confirm-btn"
          (click)="confirm()"
          [disabled]="!renameValue.trim() || isRenaming"
        >
          <svg *ngIf="isRenaming" class="spinning" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px; margin-right: 6px;">
            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
          </svg>
          {{ isRenaming ? 'Renaming...' : 'Confirm' }}
        </button>
      </div>
    </div>
  </div>
</div>
